"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};layer.config({skin:"primary",shade:.5,resize:!1,scrollbar:!1}),$.validator.addMethod("function",function(e,t,n){return n},$.validator.messages.remote),function(e){var t={options:{id:"",title:"",content:"",className:"",width:"",height:"",size:"",target:"body",closeBtn:!0,shadeClose:!0,escape:!1,autoFocus:!0,show:!0,shade:!0,fade:!0,isCenter:!1,btns:[],onShowStart:function(){},onShowEnd:function(){},onHideStart:function(){},onHideEnd:function(){},onClose:function(){},lang:{info:"Info",alert:"Alert",confirm:"Confirm",prompt:"Prompt",ok:"OK",cancel:"Cancel"}},open:function(n){n=e.extend({},t.options,n);var a=""!==n.id?e("#"+n.id):void 0;a&&(a.modal("hide"),a=null),a&&a.length||(a=e('<div class="modal-admin modal '+(n.fade?"fade":"")+'" tabindex="-1" role="dialog" data-backdrop="'.concat(!!n.shade&&(!!n.shadeClose||"static"),'"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"></div></div></div></div>')));var o=a.find(".modal-body");if(n.title="string"==typeof n.lang[n.title]?n.lang[n.title]:n.title,n.closeBtn||n.title){var i=e('<div class="modal-header"></div>');n.title&&i.append('<h5 class="modal-title">'.concat(n.title,"</h5>")),n.closeBtn&&i.append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),o.before(i)}if(n.btns.length){var r=e('<div class="modal-footer"></div>');n.btns.forEach(function(t){t=e.extend(!0,{label:"Button",className:"btn-primary",onClick:function(e){}},t);var o=e('<button type="button" class="btn '+t.className+'">'+(n.lang[t.label]||t.label)+"</button>");o.on("click",function(e){e.hide=function(){a.modal("hide")},!1!==t.onClick(e)&&a.modal("hide")}),r.append(o)}),o.after(r)}return"string"==typeof n.content?o.html(n.content):"object"===_typeof(n.content)&&(o.empty(),e(n.content).contents().appendTo(o)),n.id&&a.attr("id",n.id),n.className&&a.addClass(n.className),n.width&&a.find(".modal-dialog").width(n.width).css("max-width",n.width),n.height&&a.find(".modal-dialog").height(n.height),n.size&&a.find(".modal-dialog").addClass("modal-"+n.size),n.isCenter&&a.find(".modal-dialog").addClass("modal-dialog-centered"),a.on("show.bs.modal",n.onShowStart),a.on("shown.bs.modal",n.onShowEnd),a.on("hide.bs.modal",n.onHideStart),a.on("hidden.bs.modal",function(){a.modal("dispose").remove(),n.onHideEnd()}),n.closeBtn&&a.find(".close").on("click",function(){return a.modal("hide"),n.onClose()}),e(n.target).append(a),a.modal({backdrop:!!n.shade&&(!!n.shadeClose||"static"),keyboard:n.escape,focus:n.autoFocus,show:n.show}),a},close:function(t){e(t).modal("hide")},closeAll:function(){e('.modal-admin[role="dialog"]').modal("hide")},alert:function(n,a,o){var i="function"==typeof a;return i&&(o=a),t.open(e.extend(!0,{title:"alert",content:n,btns:[{label:"ok",onClick:function(){if("function"==typeof o)return o()}}]},i?{}:a))},confirm:function(n,a,o,i){var r="function"==typeof a;return r&&(i=o,o=a),t.open(e.extend(!0,{title:"confirm",content:n,btns:[{label:"ok",onClick:function(){if("function"==typeof o)return o()}},{label:"cancel",className:"btn-secondary",onClick:function(){if("function"==typeof i)return i()}}]},r?{}:a))},prompt:function(n,a,o){n=n||{},"function"==typeof n&&(o=a,a=n),n.content=e("<div>".concat(n.content?"<h6>"+n.content+"</h6>":"",'<form><input type="text" class="form-control" value="'.concat(n.value||"",'"/></form></div>')));var i=n.content.find("form"),r=n.content.find("input");return t.open(e.extend(!0,{title:"prompt",btns:[{label:"ok",onClick:function(){if("function"==typeof a)return a(r.val())}},{label:"cancel",className:"btn-secondary",onClick:function(){if("function"==typeof o)return o()}}]},n,{onShowEnd:function(){r.focus(),i.on("submit",function(){if(e(this).modal("hide"),"function"==typeof a)return a(r.val())}.bind(this)),"function"==typeof n.onShowEnd&&n.onShowEnd()}}))}},n={options:{type:"primary",pos:"rt",appendType:"append",closeBtn:!1,content:"",time:2e3,zIndex:20210108,className:"",onClose:function(){},onClosed:function(){}},open:function(t){t=e.extend({},n.options,t),t.pos=t.pos||"rt";var a=e("#popper-alert-"+t.pos);a.length||(a=e('<div id="popper-alert-'+t.pos+'" class="popper-alert" style="z-index:'+t.zIndex+'"></div>'),e("body").append(a));var o=e('<div class="alert fade alert-'+t.type+'" role="alert">'+t.content+"</div>");return t.time&&(o.append('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>').addClass("alert-dismissible"),setTimeout(function(){o.alert("close")},t.time)),"append"===t.appendType?a.append(o):a.prepend(o),setTimeout(function(){o.addClass("show")},50),o.on("close.bs.alert",t.onClose),o.on("closed.bs.alert",t.onClosed),o},close:function(t){return e(t).alert("close")},closeAll:function(){return e(".popper-alert .alert").alert("close")},primary:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.open(e.extend(!0,{type:"primary",content:t,onClose:o},i?{}:a))},secondary:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"secondary"},i?{}:a),o)},success:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"success"},i?{}:a),o)},danger:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"danger"},i?{}:a),o)},warning:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"warning"},i?{}:a),o)},info:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"info"},i?{}:a),o)},light:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"light"},i?{}:a),o)},dark:function(t,a,o){var i="function"==typeof a;return i&&(o=a),n.primary(t,e.extend(!0,{type:"dark"},i?{}:a),o)}};e.extend({bootstrapModaler:t,bootstrapAlert:n})}(jQuery),function(e){var t=function(e,t){return e<<t|e>>>32-t},n=function(e,t){var n,a,o,i,r;return o=2147483648&e,i=2147483648&t,n=1073741824&e,a=1073741824&t,r=(1073741823&e)+(1073741823&t),n&a?2147483648^r^o^i:n|a?1073741824&r?3221225472^r^o^i:1073741824^r^o^i:r^o^i},a=function(e,t,n){return e&t|~e&n},o=function(e,t,n){return e&n|t&~n},i=function(e,t,n){return e^t^n},r=function(e,t,n){return t^(e|~n)},s=function(e,o,i,r,s,c,l){return e=n(e,n(n(a(o,i,r),s),l)),n(t(e,c),o)},c=function(e,a,i,r,s,c,l){return e=n(e,n(n(o(a,i,r),s),l)),n(t(e,c),a)},l=function(e,a,o,r,s,c,l){return e=n(e,n(n(i(a,o,r),s),l)),n(t(e,c),a)},u=function(e,a,o,i,s,c,l){return e=n(e,n(n(r(a,o,i),s),l)),n(t(e,c),a)},d=function(e){for(var t,n=e.length,a=n+8,o=(a-a%64)/64,i=16*(o+1),r=Array(i-1),s=0,c=0;c<n;)t=(c-c%4)/4,s=c%4*8,r[t]=r[t]|e.charCodeAt(c)<<s,c++;return t=(c-c%4)/4,s=c%4*8,r[t]=r[t]|128<<s,r[i-2]=n<<3,r[i-1]=n>>>29,r},M=function(e){var t,n,a="",o="";for(n=0;n<=3;n++)t=e>>>8*n&255,o="0"+t.toString(16),a+=o.substr(o.length-2,2);return a},p=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t};e.extend({md5:function(e,t){e="string"!=typeof e?e.toString():e;var a,o,i,r,f,y,m,g,N,b=Array();for(e=p(e),b=d(e),y=1732584193,m=4023233417,g=2562383102,N=271733878,a=0;a<b.length;a+=16)o=y,i=m,r=g,f=N,y=s(y,m,g,N,b[a+0],7,3614090360),N=s(N,y,m,g,b[a+1],12,3905402710),g=s(g,N,y,m,b[a+2],17,606105819),m=s(m,g,N,y,b[a+3],22,3250441966),y=s(y,m,g,N,b[a+4],7,4118548399),N=s(N,y,m,g,b[a+5],12,1200080426),g=s(g,N,y,m,b[a+6],17,2821735955),m=s(m,g,N,y,b[a+7],22,4249261313),y=s(y,m,g,N,b[a+8],7,1770035416),N=s(N,y,m,g,b[a+9],12,2336552879),g=s(g,N,y,m,b[a+10],17,4294925233),m=s(m,g,N,y,b[a+11],22,2304563134),y=s(y,m,g,N,b[a+12],7,1804603682),N=s(N,y,m,g,b[a+13],12,4254626195),g=s(g,N,y,m,b[a+14],17,2792965006),m=s(m,g,N,y,b[a+15],22,1236535329),y=c(y,m,g,N,b[a+1],5,4129170786),N=c(N,y,m,g,b[a+6],9,3225465664),g=c(g,N,y,m,b[a+11],14,643717713),m=c(m,g,N,y,b[a+0],20,3921069994),y=c(y,m,g,N,b[a+5],5,3593408605),N=c(N,y,m,g,b[a+10],9,38016083),g=c(g,N,y,m,b[a+15],14,3634488961),m=c(m,g,N,y,b[a+4],20,3889429448),y=c(y,m,g,N,b[a+9],5,568446438),N=c(N,y,m,g,b[a+14],9,3275163606),g=c(g,N,y,m,b[a+3],14,4107603335),m=c(m,g,N,y,b[a+8],20,1163531501),y=c(y,m,g,N,b[a+13],5,2850285829),N=c(N,y,m,g,b[a+2],9,4243563512),g=c(g,N,y,m,b[a+7],14,1735328473),m=c(m,g,N,y,b[a+12],20,2368359562),y=l(y,m,g,N,b[a+5],4,4294588738),N=l(N,y,m,g,b[a+8],11,2272392833),g=l(g,N,y,m,b[a+11],16,1839030562),m=l(m,g,N,y,b[a+14],23,4259657740),y=l(y,m,g,N,b[a+1],4,2763975236),N=l(N,y,m,g,b[a+4],11,1272893353),g=l(g,N,y,m,b[a+7],16,4139469664),m=l(m,g,N,y,b[a+10],23,3200236656),y=l(y,m,g,N,b[a+13],4,681279174),N=l(N,y,m,g,b[a+0],11,3936430074),g=l(g,N,y,m,b[a+3],16,3572445317),m=l(m,g,N,y,b[a+6],23,76029189),y=l(y,m,g,N,b[a+9],4,3654602809),N=l(N,y,m,g,b[a+12],11,3873151461),g=l(g,N,y,m,b[a+15],16,530742520),m=l(m,g,N,y,b[a+2],23,3299628645),y=u(y,m,g,N,b[a+0],6,4096336452),N=u(N,y,m,g,b[a+7],10,1126891415),g=u(g,N,y,m,b[a+14],15,2878612391),m=u(m,g,N,y,b[a+5],21,4237533241),y=u(y,m,g,N,b[a+12],6,1700485571),N=u(N,y,m,g,b[a+3],10,2399980690),g=u(g,N,y,m,b[a+10],15,4293915773),m=u(m,g,N,y,b[a+1],21,2240044497),y=u(y,m,g,N,b[a+8],6,1873313359),N=u(N,y,m,g,b[a+15],10,4264355552),g=u(g,N,y,m,b[a+6],15,2734768916),m=u(m,g,N,y,b[a+13],21,1309151649),y=u(y,m,g,N,b[a+4],6,4149444226),N=u(N,y,m,g,b[a+11],10,3174756917),g=u(g,N,y,m,b[a+2],15,718787259),m=u(m,g,N,y,b[a+9],21,3951481745),y=n(y,o),m=n(m,i),g=n(g,r),N=n(N,f);return(t?M(m)+M(g):M(y)+M(m)+M(g)+M(N)).toLowerCase()}})}(jQuery),function($){if($(".dataTables_wrapper").on("submit,reset","form",function(){if(void 0==$(this).attr("action"))return!1}),$.fn.serializeObject=function(){var e={},t=this.serializeArray(),n=$("input[type=checkbox]:not(:checked)",this);$.each(n,function(){t.push({name:this.name,value:""})});var a=$("input[type=radio]:not(:checked)",this);$.each(a,function(){$("input[type=radio][name="+this.name+"]:checked").val()||t.push({name:this.name,value:""})});var o=$("select[multiple]",this);return $.each(o,function(){var e=$(this).val();e.length?1==e.length&&$.each(t,function(e,t){t.name==this.name&&(t.value=[t.value])}.bind(this)):t.push({name:this.name,value:[]})}),$(t).each(function(){e[this.name]?$.isArray(e[this.name])?e[this.name].push(this.value):e[this.name]=[e[this.name],this.value]:e[this.name]=this.value}),$.each(e,function(t,n){var a=t,o=!1;if(/\[\]$/i.test(t)&&(o=!0,a=t.replace(/\[\]$/i,"")),$.isArray(n)){var i=[];$.each(n,function(e,t){""!==t&&i.push(t)}),e[a]=i}o&&(delete e[t],e[a]=e[a]||[])}),e},void 0!==$.fn.bootstrapTable){var BootstrapTable=$.fn.bootstrapTable.Constructor,_initHeader=BootstrapTable.prototype.initHeader,_initToolbar=BootstrapTable.prototype.initToolbar,_load=BootstrapTable.prototype.load,_initSearch=BootstrapTable.prototype.initSearch;BootstrapTable.prototype.initToolbar=function(){var self=this;_initToolbar.apply(self,Array.prototype.slice.apply(arguments));var sprintf=$.fn.bootstrapTable.utils.sprintf,value=function(e){var t={};return $.each($(e).serializeArray(),function(){t[this.name]?$.isArray(t[this.name])?t[this.name].push(this.value):t[this.name]=[t[this.name],this.value]:t[this.name]=this.value}),t},search=function(){return value("#"+self.options.searchForm)},url=function(e,t){return e+(-1===e.search(/\?/)?"?":"&")+decodeURIComponent($.param(t))};if(self.options.searchPanel){var html=sprintf('<div class="columns columns-%s float-%s">',self.options.buttonsAlign,self.options.buttonsAlign);html+=sprintf('<button class="btn btn-%s" type="button" name="%s" title="%s">',self.options.buttonsClass,self.options.searchTemplate,self.options.formatAdvancedSearch()),html+=sprintf('<i class="%s %s"></i>',self.options.iconsPrefix,self.options.icons.search),html+="</button></div>",self.$toolbar.find(".float-right").length>0?$(html).insertBefore(self.$toolbar.find(".float-right:first")):self.$toolbar.append(html);var formId="#"+self.options.searchForm,template=$("#"+self.options.searchTemplate).prop("outerHTML");$("#"+self.options.searchTemplate).remove(),self.$toolbar.before(template),setTimeout(function(){$("body").on("click",'[name="'+self.options.searchTemplate+'"]',function(){$("#"+self.options.searchTemplate).toggleClass("d-block")})}),self.options.searchPanelOpen&&$("#"+self.options.searchTemplate).addClass("d-block"),$("#"+self.options.searchTemplate+'_button button[type="submit"]').html(self.options.searchSubmitText||"Submit"),$("#"+self.options.searchTemplate+'_button button[type="reset"]').html(self.options.searchResetText||"Reset"),$(formId).trigger("search:created",[{$elem:$(formId),table:self}]),setTimeout(function(){$(formId+" [data-time]").each(function(){$.admin.date(formId+' [name="'+$(this).attr("name")+'"]',{format:$(this).data("time")})}),$(formId+" [data-select]").each(function(){$.admin.select(formId+' [name="'+$(this).attr("name")+'"]',{dropdownAutoWidth:!0,width:"100%"})})}),$("body").on("submit",formId,function(){$(formId).trigger("search:submit",[{$elem:$(formId),table:self}]),self.refresh({pageNumber:1})}),self.options.queryParams=function(e){var t=search();for(var n in t)t.hasOwnProperty(n)&&""===t[n]&&delete t[n];return e[self.options.searchList]=t,e}}eval(self.options.namespace).onLoadData=function(e,t){},$("body").on("load-success.bs.table",function(e,data){eval(self.options.namespace).onLoadData(data,self)}),eval(self.options.namespace).onPreBody=function(e,t){},$("body").on("pre-body.bs.table",function(e,data){eval(self.options.namespace).onPreBody(data,self)}),eval(self.options.namespace).onPostBody=function(e,t){},$("body").on("post-body.bs.table",function(e,data){$("#"+self.options.id+' [data-toggle="tooltip"],'+self.options.toolbar+' [data-toggle="tooltip"]').tooltip(),$.admin.switch("#"+self.options.id+' [data-bind="switch"]',{size:"small",onSwitchChange:function onSwitchChange(e,o){if(self.options.uniqueId){var d=eval(self.options.namespace).getData($(this).closest("tr[data-uniqueid]").data("uniqueid"));$(this).trigger("row:"+self.options.actionEvent,[{$elem:$(this),action:$(this).attr("action"),row:d.row||{},switch:o,index:d.index||!1}])}}}),$("#"+self.options.id+' [data-bind="image"]').on("click",function(e){var t=$(this).attr("name")||"";$.admin.layer.photos({anim:5,photos:{title:t,data:[{alt:t,pid:0,src:$(this).attr("src")}]}})}),eval(self.options.namespace).onPostBody(data,self)}),eval(self.options.namespace).onEvent=function(e,t,n){},$("body").on("all.bs.table",function(e,name,args){eval(self.options.namespace).onEvent(name,self,args)}),$("body").off("click").on("click",self.options.toolbar+" [data-button-key]",function(){$(this).trigger("toolbar:"+self.options.actionEvent,[{$elem:$(this),table:self,action:$(this).data("button-key")}])}),eval(self.options.namespace+"."+self.options.actionEvent)["click [action]"]=function(e,t,n,a){var o=e.target;$(e.target).attr("action")||(o=$(e.target).closest("[action]")),$(o).trigger("row:"+self.options.actionEvent,[{$elem:$(o),table:self,action:$(o).attr("action"),row:n,index:a}])},eval(self.options.namespace).getBatch=function(e){var t=$("#"+self.options.id).bootstrapTable("getSelections");if(e){var n=[];return self.options.uniqueId&&$.each(t,function(e,t){n.push(t[self.options.uniqueId])}),n}return t},eval(self.options.namespace).getUrl=function(){var action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"null",parm=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return self.refresh({silent:!0,query:Object.assign(_defineProperty({ignore:!0},self.options.actionName,action),parm)}),eval(self.options.namespace).builder[0].url},eval(self.options.namespace).getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";if(null===e)return $("#"+self.options.id).bootstrapTable("getData",{includeHiddenRows:!0});if(self.options.uniqueId){if("key"==t)var n=$("#"+self.options.id).bootstrapTable("getRowByUniqueId",e),a=$("#"+self.options.id).find('tr[data-uniqueid="'+e+'"]').data("index");else var n=$("#"+self.options.id).bootstrapTable("getRowByUniqueId",$("#"+self.options.id).find('tr[data-index="'+e+'"]').data("uniqueid")),a=e;return{row:n,index:a}}return null},eval(self.options.namespace).ajax=function(data){var parm=JSON.parse(data.data);parm.ignore?eval(self.options.namespace).builder[0].url=url(data.url,parm):$.ajax(data)}}}"undefined"!=typeof layer&&(layer.avatar=function(e,t,n){e=e||[];var a=e.ready||function(){};e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTAyNCA1MTJDMTAyNCAyMzAuNCA3OTMuNiAwIDUxMiAwUzAgMjMwLjQgMCA1MTJzMjMwLjQgNTEyIDUxMiA1MTIgNTEyLTIzMC40IDUxMi01MTJ6TTUxMiA5NjBDMjYyLjQgOTYwIDY0IDc2MS42IDY0IDUxMlMyNjIuNCA2NCA1MTIgNjRzNDQ4IDE5OC40IDQ0OCA0NDgtMTk4LjQgNDQ4LTQ0OCA0NDh6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48cGF0aCBkPSJNNjI3LjIgNTA1LjZDNjcyIDQ2Ny4yIDcwNCA0MTYgNzA0IDM1MmMwLTEwOC44LTgzLjItMTkyLTE5Mi0xOTJzLTE5MiA4My4yLTE5MiAxOTJjMCA2NCAzMiAxMTUuMiA3Ni44IDE1My42QzI5NC40IDU1MC40IDIyNCA2NTIuOCAyMjQgNzY4YzAgMTkuMiAxMi44IDMyIDMyIDMyczMyLTEyLjggMzItMzJjMC0xMjEuNiAxMDIuNC0yMjQgMjI0LTIyNHMyMjQgMTAyLjQgMjI0IDIyNGMwIDE5LjIgMTIuOCAzMiAzMiAzMnMzMi0xMi44IDMyLTMyYzAtMTE1LjItNzAuNC0yMTcuNi0xNzIuOC0yNjIuNHpNNTEyIDQ4MGMtNzAuNCAwLTEyOC01Ny42LTEyOC0xMjhzNTcuNi0xMjggMTI4LTEyOCAxMjggNTcuNiAxMjggMTI4LTU3LjYgMTI4LTEyOCAxMjh6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||e.placeholder,e.lock=e.lock||!1;var o="cropper-avatar-"+(new Date).getTime()+parseInt(1e5*Math.random())+1,i='<div class="row cropper-avatar" id="'+o+'"><div class="col-sm-9 cropper-left"><div class="cropper-box"><img class="cropper" src="'+e.image+'"><div class="mt-2 cropper-tool"><button type="button" class="btn btn-sm btn-secondary" data-action="file"><i class="mb-0 fa fa-image"></i></button>\n<input type="file" style="display:none" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"><button type="button" class="btn btn-sm btn-secondary" data-action="reset"><i class="mb-0 fa fa-sync"></i></button>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="zoom+"><i class="mb-0 fa fa-search-plus"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="zoom-"><i class="mb-0 fa fa-search-minus"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_left"><i class="mb-0 fa fa-undo"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_right"><i class="mb-0 fa fa-redo"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="move_up"><i class="mb-0 fa fa-arrow-up"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_down"><i class="mb-0 fa fa-arrow-down"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_left"><i class="mb-0 fa fa-arrow-left"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_right"><i class="mb-0 fa fa-arrow-right"></i></button></div>\n</div></div></div><div class="col cropper-right pl-sm-2"><div class="row no-gutters"><div class="cropper-preview"></div><div class="cropper-preview rounded ml-3 ml-sm-0 mt-sm-2"></div><div class="cropper-preview rounded-circle ml-3 ml-sm-0 mt-sm-2"></div></div></div></div>';e=$.extend({viewMode:1,toggleDragModeOnDblclick:!1,aspectRatio:1},e,{preview:"#"+o+" .cropper-preview",ready:function(e){a(e);var t=r.cropper,n=$("#"+o),i=n.find('input[type="file"]'),s=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};n.on("click","button",function(){switch($(this).data("action")){case"file":i.trigger("click"),i.on("change",function(){var e=$(this).prop("files");if("object"==(void 0===e?"undefined":_typeof(e))&&e.length>0){var n=e[0];s(n)&&(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(n),t.replace(this.url))}});break;case"reset":t.reset();break;case"zoom+":t.zoom(.25);break;case"zoom-":t.zoom(-.25);break;case"rotate_left":t.rotate(-18);break;case"rotate_right":t.rotate(18);break;case"move_up":t.move(0,5);break;case"move_down":t.move(0,-5);break;case"move_left":t.move(-5,0);break;case"move_right":t.move(5,0)}})}});var r=null;"function"==typeof(t=t||{})&&(n=t);var s=t.success||function(){},c=window.innerWidth<600;return t=$.extend({area:[c?"100%":"600px",c?"100%":"auto"],title:"avatar"},t,{success:function(t,n){e.lock&&$(t).find('[data-action="file"]').remove(),s(t,n),r=t,r.cropper=new Cropper($("#"+o+" .cropper")[0],e),r.cropper.selectImage=function(){$("#"+o).find('input[type="file"]').trigger("click")}},yes:function(e,t){if("function"==typeof n)return n(e,t)}}),layer.confirm(i,t)},layer.cropper=function(e,t,n){e=e||[];var a=e.ready||function(){};e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEyNjIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTE3MS42ODY0IDBDMTIyMi4wMzMwNjcgMCAxMjYyLjk5MzA2NyAzOS43MzEyIDEyNjIuOTkzMDY3IDg4LjU0MTg2N3Y4NDYuOTE2MjY2QzEyNjIuOTkzMDY3IDk4NC4yNjg4IDEyMjIuMDMzMDY3IDEwMjQgMTE3MS42ODY0IDEwMjRIOTEuMzY2NGMtNy45MTg5MzMgMC0xNS41OTg5MzMtMC45ODk4NjctMjIuOTAzNDY3LTIuODMzMDY3QTgzLjkzMzg2NyA4My45MzM4NjcgMCAwIDEgMC4wNTk3MzMgOTM1LjQ1ODEzM1Y4OC41NDE4NjdDMC4wNTk3MzMgMzkuNzMxMiA0MS4wMTk3MzMgMCA5MS4zNjY0IDBoMTA4MC4zMnogbS01NC4yNzIgMTEzLjIyMDI2N0gxNDIuMDIwMjY3Yy0xNS45NDAyNjcgMC0yOC45NDUwNjcgMTIuMjg4LTI4Ljk0NTA2NyAyNy4yNzI1MzNsLTAuMDM0MTMzIDY0NC40MzczMzMgMjI0LjMyNDI2Ni0yNDUuMDc3MzMzYzMzLjk5NjgtMzcuMTM3MDY3IDkzLjU1OTQ2Ny0zNy4xMzcwNjcgMTI3LjY1ODY2NyAwbDIyNy44MDU4NjcgMjQ4LjU5MzA2NyAyMDMuNzQxODY2LTI1MS42OTkyYzI2LjcyNjQtMzMuMDA2OTMzIDczLjU5MTQ2Ny0zMy4wMDY5MzMgMTAwLjMxNzg2NyAwbDE0OS40Njk4NjcgMTg0LjU1ODkzM1YxNDAuNDkyOGMwLTE1LjAxODY2Ny0xMy4wMDQ4LTI3LjI3MjUzMy0yOC45NDUwNjctMjcuMjcyNTMzeiBtLTM1Ni42OTMzMzMgNzYuNDkyOGExNDQuNjU3MDY3IDE0NC42NTcwNjcgMCAwIDEgMTQzLjQ5NjUzMyAwIDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjcgMTIzLjE4NzIgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2NyAxMjMuMTUzMDY2IDE0NC42NTcwNjcgMTQ0LjY1NzA2NyAwIDAgMS0xNDMuNTMwNjY3IDAgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2Ni0xMjMuMTUzMDY2IDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjYtMTIzLjE4NzJ6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||e.placeholder,e.lock=void 0===e.lock||e.lock,e.base64=e.base64||!1,e.aspectRatio=e.aspectRatio||null,"number"!=typeof e.aspectRatio&&delete e.aspectRatio;var o="cropper-image-"+(new Date).getTime()+parseInt(1e5*Math.random())+1,i='<div class="cropper-image" id="'+o+'"><div class="cropper-box"><img class="cropper" src="'+e.image+'"><div class="mt-2 cropper-tool"><button type="button" class="btn btn-sm btn-secondary" data-action="file"><i class="mb-0 fa fa-image"></i></button>\n<input type="file" style="display:none" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"><button type="button" class="btn btn-sm btn-secondary" data-action="reset"><i class="mb-0 fa fa-sync"></i></button>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="zoom+"><i class="mb-0 fa fa-search-plus"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="zoom-"><i class="mb-0 fa fa-search-minus"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_left"><i class="mb-0 fa fa-undo"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="rotate_right"><i class="mb-0 fa fa-redo"></i></button></div>\n<div class="btn-group"><button type="button" class="btn btn-sm btn-secondary" data-action="move_up"><i class="mb-0 fa fa-arrow-up"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_down"><i class="mb-0 fa fa-arrow-down"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_left"><i class="mb-0 fa fa-arrow-left"></i></button><button type="button" class="btn btn-sm btn-secondary" data-action="move_right"><i class="mb-0 fa fa-arrow-right"></i></button></div>\n</div></div></div>';e=$.extend({toggleDragModeOnDblclick:!1},e,{ready:function(e){a(e);var t=r.cropper,n=$("#"+o),i=n.find('input[type="file"]'),s=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};n.on("click","button",function(){switch($(this).data("action")){case"file":i.trigger("click"),i.on("change",function(){var e=$(this).prop("files");if("object"==(void 0===e?"undefined":_typeof(e))&&e.length>0){var n=e[0];s(n)&&(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(n),t.replace(this.url))}});break;case"reset":t.reset();break;case"zoom+":t.zoom(.25);break;case"zoom-":t.zoom(-.25);break;case"rotate_left":t.rotate(-18);break;case"rotate_right":t.rotate(18);break;case"move_up":t.move(0,5);break;case"move_down":t.move(0,-5);break;case"move_left":t.move(-5,0);break;case"move_right":t.move(5,0)}})}});var r=null;"function"==typeof(t=t||{})&&(n=t);var s=t.success||function(){},c=window.innerWidth<600;return t=$.extend({area:[c?"100%":"500px",c?"100%":"500px"],title:"cropper"},t,{success:function(t,n){e.lock&&$(t).find('[data-action="file"]').remove(),s(t,n),r=t,r.cropper=new Cropper($("#"+o+" .cropper")[0],e),r.cropper.selectImage=function(){$("#"+o).find('input[type="file"]').trigger("click")}},yes:function(e,t){if("function"==typeof n)return n(e,t)}}),layer.confirm(i,t)},layer.image=function(e,t,n){e=e||[];e.change;e.loading=e.loading||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNNDg3LjM2MTMwNSAxOTMuNzU2ODYzaC00Ni4xODAzOTJ2MzU2LjM5MjE1N2wzMzEuMjk0MTE4IDE2OC42NTg4MjMgMjEuMDgyMzUzLTQxLjE2MDc4NC0zMDcuMi0xNTUuNjA3ODQzdi0zMjguMjgyMzUzeiBtNDQyLjcyOTQxMiAxMjcuNDk4MDM5bDQyLjE2NDcwNi0xOC4wNzA1ODhjLTQuMDE1Njg2LTkuMDM1Mjk0LTguMDMxMzczLTE4LjA3MDU4OC0xMy4wNTA5ODEtMjcuMTA1ODgzbC00MS4xNjA3ODQgMjAuMDc4NDMyYzQuMDE1Njg2IDkuMDM1Mjk0IDguMDMxMzczIDE3LjA2NjY2NyAxMi4wNDcwNTkgMjUuMDk4MDM5eiBtMzcuMTQ1MDk4IDE0OS41ODQzMTRsNDYuMTgwMzkyLTMuMDExNzY1Yy0xLjAwMzkyMi0xMC4wMzkyMTYtMi4wMDc4NDMtMjEuMDgyMzUzLTMuMDExNzY1LTMxLjEyMTU2OWwtNDUuMTc2NDcgNi4wMjM1M2MxLjAwMzkyMiAxMC4wMzkyMTYgMi4wMDc4NDMgMTkuMDc0NTEgMi4wMDc4NDMgMjguMTA5ODA0eiBtLTExMS40MzUyOTQtMzMwLjI5MDE5NmwtMzEuMTIxNTY5IDM0LjEzMzMzM2M2LjAyMzUyOSA2LjAyMzUyOSAxMy4wNTA5OCAxMi4wNDcwNTkgMTkuMDc0NTEgMTkuMDc0NTFsMzQuMTMzMzMzLTMxLjEyMTU2OWMtNi4wMjM1MjktOC4wMzEzNzMtMTMuMDUwOTgtMTUuMDU4ODI0LTIyLjA4NjI3NC0yMi4wODYyNzR6IG05Ni4zNzY0NyA0ODQuODk0MTE3bDQ0LjE3MjU0OSAxNC4wNTQ5MDJjMy4wMTE3NjUtMTAuMDM5MjE2IDYuMDIzNTI5LTIwLjA3ODQzMSA3LjAyNzQ1MS0zMS4xMjE1NjhsLTQ1LjE3NjQ3LTkuMDM1Mjk1Yy0yLjAwNzg0MyA5LjAzNTI5NC00LjAxNTY4NiAxOC4wNzA1ODgtNi4wMjM1MyAyNi4xMDE5NjF6IG0tMzYwLjQwNzg0My02MjEuNDI3NDUxYy0xMC4wMzkyMTYtMS4wMDM5MjItMjAuMDc4NDMxLTIuMDA3ODQzLTI5LjExMzcyNS0zLjAxMTc2NGgtMS4wMDM5MjJsLTQuMDE1Njg2IDQ1LjE3NjQ3aDEuMDAzOTIxYzkuMDM1Mjk0IDEuMDAzOTIyIDE4LjA3MDU4OCAyLjAwNzg0MyAyNy4xMDU4ODMgMi4wMDc4NDMgMCAxLjAwMzkyMiA2LjAyMzUyOS00NC4xNzI1NDkgNi4wMjM1MjktNDQuMTcyNTQ5eiBtMTQ5LjU4NDMxNCA1Ny4yMjM1M2MtOS4wMzUyOTQtNC4wMTU2ODYtMTguMDcwNTg4LTkuMDM1Mjk0LTI3LjEwNTg4Mi0xMi4wNDcwNTlsLTEuMDAzOTIyLTEuMDAzOTIyLTE4LjA3MDU4OCA0Mi4xNjQ3MDYgMS4wMDM5MjEgMS4wMDM5MjJjOS4wMzUyOTQgMy4wMTE3NjUgMTcuMDY2NjY3IDcuMDI3NDUxIDI1LjA5ODA0IDExLjA0MzEzN2wyMC4wNzg0MzEtNDEuMTYwNzg0eiBtMTYyLjYzNTI5NCA2NzguNjUwOThjLTMuMDExNzY1IDMuMDExNzY1LTEuMDAzOTIyIDIuMDA3ODQzLTIuMDA3ODQzIDQuMDE1Njg2bC0xLjAwMzkyMiAxLjAwMzkyMmMtNS4wMTk2MDggOS4wMzUyOTQtMTAuMDM5MjE2IDE2LjA2Mjc0NS0xNC4wNTQ5MDIgMjMuMDkwMTk2bDM3LjE0NTA5OCAyNy4xMDU4ODJjNi4wMjM1MjktOC4wMzEzNzMgMTEuMDQzMTM3LTE2LjA2Mjc0NSAxNy4wNjY2NjctMjYuMTAxOTYgMS4wMDM5MjItMS4wMDM5MjIgMS4wMDM5MjItMS4wMDM5MjIgMS4wMDM5MjItMi4wMDc4NDRsLTEuMDAzOTIyIDEuMDAzOTIyLTM3LjE0NTA5OC0yOC4xMDk4MDR6IiBmaWxsPSIjYmZiZmJmIiBwLWlkPSIxNTIwMCI+PC9wYXRoPjxwYXRoIGQ9Ik00MTMuMDcxMTA5IDIyLjMyNzIxNmMtOTUuMzcyNTQ5IDIxLjA4MjM1My0xODEuNzA5ODA0IDY4LjI2NjY2Ny0yNTAuOTgwMzkyIDEzOC41NDExNzZhNTE5LjgzMDU4OCA1MTkuODMwNTg4IDAgMCAwLTE0Mi41NTY4NjMgMjY2LjAzOTIxNmwtMS4wMDM5MjEgMi4wMDc4NDNjLTExLjA0MzEzNyA1OC4yMjc0NTEtMTIuMDQ3MDU5IDExNi40NTQ5MDItMi4wMDc4NDQgMTczLjY3ODQzMSAyMS4wODIzNTMgMTMyLjUxNzY0NyA5My4zNjQ3MDYgMjQ2Ljk2NDcwNiAyMDIuNzkyMTU3IDMyMy4yNjI3NDUgMTA5LjQyNzQ1MSA3Ni4yOTgwMzkgMjQxLjk0NTA5OCAxMDQuNDA3ODQzIDM3NC40NjI3NDUgODEuMzE3NjQ4IDE4LjA3MDU4OC0zLjAxMTc2NSAzNi4xNDExNzYtNy4wMjc0NTEgNTIuMjAzOTIyLTEyLjA0NzA1OWw5LjAzNTI5NC0yLjAwNzg0MyAxLjAwMzkyMi0xLjAwMzkyMmM3LjAyNzQ1MS0yLjAwNzg0MyAxMy4wNTA5OC01LjAxOTYwOCAyMC4wNzg0MzEtNy4wMjc0NTFoMS4wMDM5MjJsNC4wMTU2ODYtMi4wMDc4NDNjNDEuMTYwNzg0LTE1LjA1ODgyNCA4MC4zMTM3MjUtMzYuMTQxMTc2IDExNS40NTA5OC02MC4yMzUyOTRsLTI2LjEwMTk2MS0zOC4xNDkwMmMtMzAuMTE3NjQ3IDIxLjA4MjM1My02NC4yNTA5OCA0MC4xNTY4NjMtMTAwLjM5MjE1NiA1My4yMDc4NDNoLTYuMDIzNTNsLTMuMDExNzY1IDMuMDExNzY1Yy03LjAyNzQ1MSAyLjAwNzg0My0xNC4wNTQ5MDIgNS4wMTk2MDgtMjEuMDgyMzUyIDcuMDI3NDUxbC02LjAyMzUzIDEuMDAzOTIyLTEuMDAzOTIxIDEuMDAzOTIxYy0xNC4wNTQ5MDIgNC4wMTU2ODYtMjkuMTEzNzI1IDcuMDI3NDUxLTQ1LjE3NjQ3MSAxMC4wMzkyMTYtMTIwLjQ3MDU4OCAyMS4wODIzNTMtMjQwLjk0MTE3Ni01LjAxOTYwOC0zMzkuMzI1NDktNzMuMjg2Mjc1LTk5LjM4ODIzNS02OC4yNjY2NjctMTYzLjYzOTIxNi0xNzIuNjc0NTEtMTgyLjcxMzcyNi0yOTIuMTQxMTc2LTkuMDM1Mjk0LTUyLjIwMzkyMi04LjAzMTM3My0xMDQuNDA3ODQzIDIuMDA3ODQzLTE1Ny42MTU2ODZsMS4wMDM5MjItMi4wMDc4NDRjMTguMDcwNTg4LTkyLjM2MDc4NCA2Mi4yNDMxMzctMTc1LjY4NjI3NSAxMjkuNTA1ODgyLTI0Mi45NDkwMTkgNjMuMjQ3MDU5LTYzLjI0NzA1OSAxNDIuNTU2ODYzLTEwNi40MTU2ODYgMjI4Ljg5NDExOC0xMjUuNDkwMTk2bC0xNC4wNTQ5MDItNDQuMTcyNTQ5eiIgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMC4xIj48L3BhdGg+PC9zdmc+",e.placeholder=e.placeholder||"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEyNjIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNMTE3MS42ODY0IDBDMTIyMi4wMzMwNjcgMCAxMjYyLjk5MzA2NyAzOS43MzEyIDEyNjIuOTkzMDY3IDg4LjU0MTg2N3Y4NDYuOTE2MjY2QzEyNjIuOTkzMDY3IDk4NC4yNjg4IDEyMjIuMDMzMDY3IDEwMjQgMTE3MS42ODY0IDEwMjRIOTEuMzY2NGMtNy45MTg5MzMgMC0xNS41OTg5MzMtMC45ODk4NjctMjIuOTAzNDY3LTIuODMzMDY3QTgzLjkzMzg2NyA4My45MzM4NjcgMCAwIDEgMC4wNTk3MzMgOTM1LjQ1ODEzM1Y4OC41NDE4NjdDMC4wNTk3MzMgMzkuNzMxMiA0MS4wMTk3MzMgMCA5MS4zNjY0IDBoMTA4MC4zMnogbS01NC4yNzIgMTEzLjIyMDI2N0gxNDIuMDIwMjY3Yy0xNS45NDAyNjcgMC0yOC45NDUwNjcgMTIuMjg4LTI4Ljk0NTA2NyAyNy4yNzI1MzNsLTAuMDM0MTMzIDY0NC40MzczMzMgMjI0LjMyNDI2Ni0yNDUuMDc3MzMzYzMzLjk5NjgtMzcuMTM3MDY3IDkzLjU1OTQ2Ny0zNy4xMzcwNjcgMTI3LjY1ODY2NyAwbDIyNy44MDU4NjcgMjQ4LjU5MzA2NyAyMDMuNzQxODY2LTI1MS42OTkyYzI2LjcyNjQtMzMuMDA2OTMzIDczLjU5MTQ2Ny0zMy4wMDY5MzMgMTAwLjMxNzg2NyAwbDE0OS40Njk4NjcgMTg0LjU1ODkzM1YxNDAuNDkyOGMwLTE1LjAxODY2Ny0xMy4wMDQ4LTI3LjI3MjUzMy0yOC45NDUwNjctMjcuMjcyNTMzeiBtLTM1Ni42OTMzMzMgNzYuNDkyOGExNDQuNjU3MDY3IDE0NC42NTcwNjcgMCAwIDEgMTQzLjQ5NjUzMyAwIDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjcgMTIzLjE4NzIgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2NyAxMjMuMTUzMDY2IDE0NC42NTcwNjcgMTQ0LjY1NzA2NyAwIDAgMS0xNDMuNTMwNjY3IDAgMTQxLjk5NDY2NyAxNDEuOTk0NjY3IDAgMCAxLTcxLjc0ODI2Ni0xMjMuMTUzMDY2IDE0MS45OTQ2NjcgMTQxLjk5NDY2NyAwIDAgMSA3MS43NDgyNjYtMTIzLjE4NzJ6IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwLjEiPjwvcGF0aD48L3N2Zz4=",e.image=e.image||"",e.local=void 0===e.local||e.local,e.dump=e.dump||"",e.dispose=void 0===e.dispose||e.dispose,
    e.quality=e.quality||.9,e.aspectRatio=void 0===e.aspectRatio||e.aspectRatio,e.width=e.width||0,e.height=e.height||0,e.maxWidth=e.maxWidth||1/0,e.maxHeight=e.maxHeight||1/0,e.minWidth=e.minWidth||0,e.minHeight=e.minHeight||0,e.type=e.type||"",e.base64=e.base64||!1,e.cropper=e.cropper||!1,e.uploader=e.uploader||null;var a,o,i,r=[e.local?"":"hidden-local",e.dump?"":"hidden-url"],s='<div class="layer-image-select '+r.join(" ")+'"><div class="form-group"><div class="preview"><div class="alert alert-danger" style="position:absolute;right:10px;display:none" role="alert"></div><img src="'+(e.image||e.placeholder)+'"><i></i></div></div><div class="form-group input-file"><label>'+($.bootstrapModaler.options.lang.file||"Select File")+'</label><input type="file" name="file" class="form-control file" accept=".png,.jpg,.jpeg,.gif,.webp,image/png,image/jpg,image/jpeg,image/gif,image/webp"></div><form class="form-group input-url"><label>'+($.bootstrapModaler.options.lang.imageUrl||"Image Url")+'</label><div class="input-group"><input type="url" name="url" class="form-control" value="'+e.image+'"><span class="input-group-append"><button type="reset" class="btn btn-secondary">'+($.bootstrapModaler.options.lang.reset||"Reset")+'</button><button type="button" class="btn btn-secondary url-dump">'+($.bootstrapModaler.options.lang.imageDump||"Image Dump")+"</button></span></form></div></div>";"function"==typeof(t=t||{})&&(n=t);var c=t.success||function(){},l=window.innerWidth<600,u=function(t){a.preview="",t&&o.attr("src",e[t]),i.html($.bootstrapModaler.options.lang.imageNone||"Image None").show().fadeOut(2e3)};return t=$.extend({area:l?"100%":"600px",title:"image"},t,{success:function(t,n){c(t,n),a=t,a.preview="",a.name="",a.canvas=null,a.result=null,o=$(t).find("img"),i=$(t).find(".alert");var r,s,l,d,M=$(t).find('input[type="file"]'),p=$(t).find('input[name="url"]'),f=$(t).find("button.url-dump"),y=function(e){return e.type?/^image\/\w+$/.test(e.type):/\.(jpg|jpeg|png|gif|webp)$/.test(e)};e.type&&!y("."+e.type)&&(e.type="jpeg");var m=function(t){a.preview="",o.attr("src",e.loading);var n=new XMLHttpRequest;n.open("GET",e.dump+(e.dump.indexOf("?")<0?"?":"&")+"url="+t),n.responseType="blob",n.onload=function(){a.result=n.response,d=n.getResponseHeader("Content-Type"),a.data={type:"url",value:t,mime:e.type||d,quality:e.quality},r=URL.createObjectURL(a.result),a.name=t.replace(/(.*\/)*([^.]+)/i,"$2"),M.val(""),N()},n.onerror=function(){p.val(""),u("placeholder")},n.onloadend=function(){200!=n.status&&(p.val(""),u("placeholder"))},n.send()},g=function(e){a.result=s=e,a.preview="object"==(void 0===s?"undefined":_typeof(s))?URL.createObjectURL(s):s,o.attr("src",a.preview)},N=function(){var t=_typeof(e.dispose);if("boolean"==t&&e.dispose){var n=new Image;l=document.createElement("canvas");var o=l.getContext("2d");n.src=r,n.onerror=function(){u("placeholder")},n.onload=function(){var t=n.width/n.height,i=Math.max(Math.min(e.width?e.width:n.width,e.maxWidth),e.minWidth),r=Math.min(e.height?e.height:n.height,e.maxHeight);e.aspectRatio&&(r="boolean"==typeof e.aspectRatio?i/t:i*e.aspectRatio),r=Math.max(r,e.minHeight),l.width=i,l.height=r,o.drawImage(n,0,0,l.width,l.height),e.base64?g(e.type||d?l.toDataURL(e.type?"image/"+e.type:d,e.quality):l.toDataURL()):e.type||d?l.toBlob(g,e.type?"image/"+e.type:d,e.quality):l.toBlob(g),a.canvas=l}}else g("function"==t?e.dispose(a.result):a.result)};e.image&&e.image!=e.placeholder&&e.dump&&m(e.image),e.local?(M.filestyle(),$(t).find(".bootstrap-filestyle .group-span-filestyle").removeClass("input-group-btn").addClass("input-group-append"),M.on("change",function(){var t=$(this).prop("files");if("object"==(void 0===t?"undefined":_typeof(t))&&t.length>0){a.preview="",o.attr("src",e.loading);var n=t[0];y(n)?(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(n),a.result=n,d=n.type,a.data={type:"file",value:n,mime:e.type||d,quality:e.quality},r=this.url,a.name=n.name,p.val(""),N()):u("placeholder")}})):$(t).find(".input-file").remove(),e.dump?f.on("click",function(){m(p.val())}):$(t).find(".input-url").remove()},yes:function(t,o){if(o.preview){if(e.cropper)$.admin.layer.cropper($.extend({viewMode:1},e,"object"==_typeof(e.cropper)?e.cropper:{},{image:o.preview,lock:!0}),function(e,t){if("function"==typeof n)return t.name=a.name,t.data=a.data,n(e,t)}),$.admin.layer.close(t);else if("function"==typeof n)return n(t,o)}else u()}}),layer.open($.extend({btn:["ok","cancel"]},t,{content:s}))},layer.fontAwesome=function(e,t,n){e=e||[],e.list=e.list||[];var a,o,i,r,s,c;"function"==typeof(t=t||{})&&(n=t);var l=t.success||function(){},u=function(e){var t="";return $.each(e,function(e,n){t+='<li data-font="'+n+'" data-toggle="tooltip" title="'+n+'"><i class="fa fa-'+n+'"></i>'}),t},d=window.innerWidth<600;return t=$.extend({area:d?["100%","100%"]:["567px","80%"],title:"icon"},t,{success:function(t,d){o=$(t).find("ul"),i=$(t).find("select"),r=$(t).find("input"),"string"==typeof e.list?(a=[],$.get(e.list,function(e){for(var n,i=/\.fa-([\w\-]+?)\:before/gi,r=[];null!=(n=i.exec(e));)r.push(n[1]);a=r,o.html(u(a)),l(t,d),$('li[data-toggle="tooltip"]',o).tooltip({container:"ul",trigger:"hover"})})):(a=e.list,o.html(u(a)),l(t,d),$('li[data-toggle="tooltip"]',o).tooltip({container:"ul",trigger:"hover"})),i.on("change",function(){$("li i",o).removeClass("fa").removeClass("fas").removeClass("fab").removeClass("far").addClass($(this).val())}),r.on("keyup",function(){$("li",o).removeClass("d-none"),""!=$(this).val()&&$("li:not([data-font*='"+$(this).val()+"'])",o).addClass("d-none")}),o.on("click","li",function(){if(c=$(this).data("font"),s=i.val()+" fa-"+c,t.iconSelected=c,t.iconClass=s,"function"==typeof n)return n(d,t)})},yes:function(e,t){if(t.iconSelected=c,t.iconClass=s,"function"==typeof n)return n(e,t)}}),layer.open($.extend({btn:!1},t,{content:'<div class="layer-font-awesome"><div class="input-group"><select class="custom-select"><option selected>fas</option><option value="fab">fab</option><option value="far">far</option></select><input class="icon-search form-control" type="text" style="flex:4"></div><ul></ul></div>'}))}),$.extend($,{admin:{console:$.extend({},console,{info:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#00B8D8")})},warn:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#ffb400")})},error:function(e){$.each(arguments,function(e,t){console.log("%c"+JSON.stringify(t),"color:#C4183C")})}}),try:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return e()}catch(e){return window._debug&&$.admin.console.error(t?e:e.message),null}},layer:layer,modal:$.bootstrapModaler,alert:$.bootstrapAlert,lang:{format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $.each(t,function(t,n){e=e.replace(new RegExp(":"+t,"g"),n)}),e}},api:{fail:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.responseJSON&&e.responseJSON.code?e.responseJSON.code:e.status;a=a||e.code||400;var o=e.responseJSON&&e.responseJSON.message?e.responseJSON.message:e.statusText;o=o||("string"==typeof e?e:e.message||"");var i=$.extend({code:0,message:""},e.responseJSON||{},{code:a,message:o});if(window._debug&&$.admin.console.error(i),"function"!=typeof t&&(n=t,t=null),t)return t(i,this);$.admin.layer.closeAll("loading"),n&&$.admin.alert.danger(o,{pos:"string"==typeof n&&n.length<=2?n:null})},success:function(e,t,n){var a=!0;if("object"!=(void 0===e?"undefined":_typeof(e))||"[object object]"!=Object.prototype.toString.call(e).toLowerCase()){a=!1;var o={status:510,statusText:"Not a JSON",code:510,message:"Not a JSON"}}return a?t(e):n?n(o):$.admin.api.fail(o)},open:function(e,t,n,a,o){"function"==typeof(n=n||{})&&(o=a,a=n);var i=n.success||function(){};n.success=function(e,t){e.body=layer.getChildFrame("body",t),e.iframe=window[e.find("iframe")[0].name],e.body.find("a").remove(),e.body.find("footer").remove(),i(e,t)},n.yes=function(e,t){a(e,t)};var r=n.btn||(o?["ok","cancel"]:["ok"]),s=window.innerWidth<960,c=$.admin.layer.open($.extend({title:e,type:2,maxmin:!0,resize:!0,area:[s?"100%":"960px",s?"100%":"720px"],content:t,btn:r},n));return o&&($.admin.layer.report=$.admin.layer.report||{},$.admin.layer.report["layui-layer-iframe"+c]=o),c},upload:function(e,t,n){var a=new FormData,o=t.blob||null;if(delete t.blob,!(o instanceof Blob))return $.admin.api.fail({code:400,message:$.bootstrapModaler.options.lang.fileNone||"File None"});var i=t.name||"";delete t.name;var r=t.key||"file";delete t.key,$.each(t,function(e,t){a.append(e,t)}),a.append(r,o,i),$.ajax({type:"POST",url:e,data:a,processData:!1,contentType:!1,success:function(e){n(e)}}).fail($.admin.api.fail)},report:function(e,t,n){if("string"==typeof t&&"string"==typeof n?(t=!1,n=e):t=!0,"object"==(void 0===e?"undefined":_typeof(e))&&"[object object]"==Object.prototype.toString.call(e).toLowerCase()||(t=!1,n=$.extend({code:510,message:"Not a JSON"},n,{status:510,statusText:"Not a JSON"})),parent.$.admin.layer.report&&parent.$.admin.layer.report[window.name]){var a=parent.$.admin.layer.report[window.name](parent.$.admin.layer.getFrameIndex(window.name),{data:e,status:t,xhr:n});return a&&delete parent.$.admin.layer.report[window.name],a}}},select:function(e,t){return t=$.extend(t,{dropdownAutoWidth:!0,width:"100%"}),t.theme=t.color||"primary",$.admin.try(function(){return $(e).select2(t)})},checkbox:function(e,t){return t=$.extend(t,{checkboxClass:"icheckbox_square-blue"}),t.color=t.color||"primary",t.checkboxClass+=" fa icheckbox_color-"+t.color,$.admin.try(function(){return $(e).iCheck(t)})},switch:function(e,t){switch(t=$.extend(t,{baseClass:"bootstrap-switch",wrapperClass:["circle"]}),t.color=t.color||$.fn.bootstrapSwitch.defaults.onColor,t.wrapperClass.push(t.color),t.size){case"small":t.labelWidth="calc(0.85rem / 1.2 * 2)",t.handleWidth="calc(0.85rem / 1.2 * 1.6)";break;case"large":t.labelWidth="calc(0.85rem * 1.2 * 2)",t.handleWidth="calc(0.85rem * 1.2 * 1.6)";break;default:t.labelWidth="calc(0.85rem * 2)",t.handleWidth="calc(0.85rem * 1.6)"}return $.admin.try(function(){return $(e).bootstrapSwitch(t)})},radio:function(e,t){return t=$.extend(t,{radioClass:"iradio_square-blue"}),t.color=t.color||"primary",t.radioClass+=" fa iradio_color-"+t.color,$.admin.try(function(){return $(e).iCheck(t)})},date:function(e,t){return t=t||{},t.format=t.format||"YYYY-MM-DD HH:mm:ss",t.showTodayButton=void 0===t.showTodayButton||t.showTodayButton,t.showClear=void 0===t.showClear||t.showClear,t.showClose=void 0===t.showClose||t.showClose,t.icons=t.icons||{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"far fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"},t=$.extend(t,{}),$.admin.try(function(){return $(e).datetimepicker(t)})},color:function(e,t){return t=$.extend(t,{addon:".color-addon"}),$(e).find(t.addon).addClass("colorpicker-input-addon").append("<i></i>"),$.admin.try(function(){return $(e).colorpicker(t)})},file:function(e,t){return t=$.extend(t,{}),$(e).filestyle(t),$.admin.try(function(){return $(e).parent().find(".bootstrap-filestyle .group-span-filestyle").removeClass("input-group-btn").addClass("input-group-append")})},slider:function(e,t){return t=$.extend(t,{}),t.skin=t.color||"primary",t.min=t.min||0,t.input_values_separator=t.input_values_separator||",",$.admin.try(function(){return $(e).ionRangeSlider(t)})},editor:function(e,t){t=$.extend({language:$.locale,languageUrl:null,branding:!1,statusbar:!1,convert_urls:!1,toolbar_mode:"floating",plugins:"preview fullscreen lists advlist table autolink link dimage hr",menubar:"file edit insert format table",toolbar:"styleselect | bullist numlist outdent indent | dimage | preview fullscreen",contextmenu:"",table_responsive_width:!0,readonly:$(e).attr("readonly")||$(e).attr("disabled")},t||{});var n=t.setup||function(){};return t.setup=function(e){e.on("change",function(){e.save()}),n(e)},$.admin.try(function(){return tinymce.init($.extend({selector:e},t))})},markdown:function(e,t){var n=[];return $.admin.try(function(){return $(e).each(function(e,a){var o=a.id||"markdown-"+Math.floor(1e9*Math.random())+"-"+(e+1);"textarea"==a.tagName.toLowerCase()?$(a).attr("id","").wrap('<div id="'+o+'">'):$(a).attr("id",o),n.push(editormd(o.replace(/#/g,""),$.extend({readOnly:$(a).attr("disabled")||$(a).attr("readonly")},t)))}),0!=n.length&&(1==n.length?n[0]:n)})},form:function(e,t){t=t||{rules:{},message:{},commit:function(){}},t.list=t.list||{},t.rules=t.rules||{},t.messages=t.messages||{},t.errors=void 0===t.errors||t.errors,t.debug=t.debug||!1,t.protect=t.protect||500,t.callback=t.callback||{complete:null,right:null,fail:null,build:null},t.callback.complete=t.callback.complete||null,t.callback.success=t.callback.success||null,t.callback.fail=t.callback.fail||null,t.callback.build=t.callback.build||null,t.render=t.render||!1,t.render&&setTimeout(function(){$(e).find(".radio").each(function(e,t){$.admin.radio(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".switch").each(function(e,t){$.admin.switch(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".checkbox").each(function(e,t){$.admin.checkbox(t,$(t).data())}),$(e).find(".select").each(function(e,t){$.admin.select(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".color").each(function(e,t){$.admin.color(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".file").each(function(e,t){$.admin.file(t,$(t).attr("disabled",$(t).attr("disabled")||$(t).attr("readonly")).data())}),$(e).find(".slider").each(function(e,t){$.admin.slider(t,$.extend({disable:$(t).attr("disabled")||$(t).attr("readonly")},$(t).data()))}),$(e).find(".date").each(function(e,t){$.admin.date(t,$(t).data())})}),Object.keys(t.list).length&&$.each(t.list,function(e,n){t.rules[e]=t.rules[e]||{},t.messages[e]=t.messages[e]||{},"object"==(void 0===n?"undefined":_typeof(n))?$.each(n,function(a,o){t.rules[e].required=void 0===n.required||n.required,"string"==typeof o.message&&(t.messages[e][a]=o.message,void 0!==n.required&&void 0!==t.messages[e].required||(t.messages[e].required=o.message)),"object"==(void 0===o?"undefined":_typeof(o))&&void 0!==o.rule||(o={rule:o}),t.rules[e][a]=void 0===o.rule||o.rule}):t.rules[e].required=n});var n=$.extend({errorPlacement:function(e,t){t.is(":radio")||t.is(":checkbox")?e.appendTo(t.parent().parent().parent()):e.appendTo(t.parent())}},t,{errorClass:"has-error",errorElement:"label",submitHandler:function(e){if("function"==typeof t.commit&&!1===t.commit(a))return"function"==typeof t.callback.complete&&t.callback.complete(a),"function"==typeof t.callback.fail&&t.callback.fail({elem:e,message:null,type:"other"}),!1;if(t.debug)"function"==typeof t.debug?t.debug(a):$.admin.console.debug(a);else{"function"==typeof t.callback.complete&&t.callback.complete(a);var n=(new Date).getTime();n-($(e).data("lastSubmitTime")||0)>=t.protect?($(e).data("lastSubmitTime",n),"function"==typeof t.callback.success&&t.callback.success(a)):$.admin.console.warn("The submit interval is too short")}}});t.errors||$.extend(n,{onfocusout:!1,onkeyup:!1,onclick:!1,showErrors:function(e,n){$.each(n,function(e,n){return"function"==typeof t.callback.complete&&t.callback.complete(a),n.message&&("function"==typeof t.callback.fail?t.callback.fail({elem:n.element,message:n.message,type:n.method}):alert(n.message)),!1})}});var a={selector:e,options:t,validate:null,value:function(){return $(e).serializeObject()}};return $.admin.try(function(){return a.validate=$(e).validate(n),a.validate&&"function"==typeof t.callback.build&&t.callback.build(a),a.validate})},cropper:function(e,t){if(!e)return!1;var n=[];return $.admin.try(function(){return $(e).each(function(e,a){if(!a||!/^img|canvas$/i.test(a.tagName))return!0;n.push(a.cropper=new Cropper(a,t))}),0!=n.length&&(1==n.length?n[0]:n)})},echarts:function(e){function t(t,n,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var a=[];return $.admin.try(function(){return $(e).each(function(e,o){var i=o.id||"echarts-"+Math.floor(1e9*Math.random())+"-"+(e+1);$(o).attr("id",i);var r=echarts.init(document.getElementById(i),window._theme||null);r.setOption($.extend({backgroundColor:"transparent"},t,n)),r.loading=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e?r.showLoading(t,$.extend({text:$.bootstrapModaler.options.lang.loading||"Loading"},"dark"==window._theme?{color:"#2b3a4a",textColor:"#fff",maskColor:"rgba(0, 0, 0, 0.2)"}:{color:"#2b3a4a",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.5)"},n)):r.hideLoading()},a.push(r)}),0!=a.length&&(1==a.length?a[0]:a)})})}})}(jQuery);
